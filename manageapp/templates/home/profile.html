{% extends "layouts/base.html" %}

{% block title %} {{ current_user.fullname }} - Hồ Sơ {% endblock %}

{% block body_class %} blog-author {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<style>
  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
</style>
{% endblock stylesheets %}

{% block content %}

{% include 'includes/navigation-transparent.html' %}

<header>
  <div class="page-header min-height-400" style="background-image: url('https://images.unsplash.com/photo-1624800131366-6da5fb02a654?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1632&q=80');"
    loading="lazy">
    <span class="mask bg-gradient-dark opacity-8"></span>
  </div>
</header>

<div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6 mb-4">
  <!-- START Testimonials w/ user image & text & info -->
  <section class="pt-6 pb-3 position-relative">
    <div class="container">
      <div class="row">
        <div class="col-12 mx-auto">
          <div class="mt-n8 mt-md-n9 text-center">
            <img class="avatar avatar-xxl shadow-xl position-relative z-index-2" style="object-fit: cover"
              src="{{ current_user.avatar }}" alt="bruce" loading="lazy">
          </div>
          <div class="row py-5">
            <div class="col-lg-7 col-md-7 z-index-2 position-relative px-md-2 px-sm-5 mx-auto">
              <div class="d-flex mb-4 justify-content-between align-items-center mb-2">
                <h3 class="mb-0">Xin chào {{ current_user.fullname }}!</h3>
              </div>
              <p class="text-lg mb-0">
                Tôi thích những trải nghiệm mới. Tôi muốn học sinh của mình đến lớp tự hỏi ngày hôm nay chúng ta sẽ
                có những trải nghiệm và thử thách mới nào. Tôi liên tục tìm kiếm cách để thu hút học sinh của tôi, để
                học tập trở thành công việc của niềm vui và sự hứng thú.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- END Testimonials w/ user image & text & info -->
</div>

<section class="pb-0 pt-lg-5">
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="card box-shadow-xl overflow-hidden mb-5">
          <div class="row">
            <div class="col-lg-5 position-relative bg-cover px-0"
              style="background-image: url('https://images.unsplash.com/photo-1627556704302-624286467c65?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80')"
              loading="lazy">
              <div class="z-index-2 text-center d-flex h-100 w-100 d-flex m-auto justify-content-center">
                <div class="mask bg-gradient-dark opacity-8"></div>
                <div class="p-5 position-relative text-start my-auto z-index-2">
                  <h3 class="text-white">Cùng hoàn thiện <br> hồ sơ cá nhân nào!</h3>
                  <p class="text-white opacity-8 mb-4">
                    Hãy phản ánh cho chúng tôi nếu bạn gặp vấn đề
                  </p>
                  <div class="d-flex p-2 text-white">
                    <div>
                      <i class="fas fa-phone text-sm"></i>
                    </div>
                    <div class="ps-3">
                      <span class="text-sm opacity-8">+84 123 456 789</span>
                    </div>
                  </div>
                  <div class="d-flex p-2 text-white">
                    <div>
                      <i class="fas fa-envelope text-sm"></i>
                    </div>
                    <div class="ps-3">
                      <span class="text-sm opacity-8">support@congnghephanmem.com</span>
                    </div>
                  </div>
                  <div class="d-flex p-2 text-white">
                    <div>
                      <i class="fas fa-map-marker-alt text-sm"></i>
                    </div>
                    <div class="ps-3">
                      <span class="text-sm opacity-8">371 Nguyễn Kiệm, Phường 3, Quận Gò Vấp <br> Thành phố Hồ Chí
                        Minh</span>
                    </div>
                  </div>
                  <div class="mt-4 d-flex">
                    <form action="https://www.facebook.com/comchancanhh" target="_blank">
                      <button type="submit" class="btn btn-icon-only btn-link text-white btn-lg mb-0"
                        data-toggle="tooltip" data-placement="bottom" data-original-title="Facebook">
                        <i class="fab fa-facebook"></i>
                      </button>
                    </form>

                    <form action="https://www.instagram.com/yel.nam" target="_blank">
                      <button type="submit" class="btn btn-icon-only btn-link text-white btn-lg mb-0"
                        data-toggle="tooltip" data-placement="bottom" data-original-title="Instagram">
                        <i class="fab fa-instagram"></i>
                      </button>
                    </form>

                    <form action="https://www.youtube.com/channel/UCWNn-P-G4_6k6nk8y0_uFrw" target="_blank">
                      <button type="submit" class="btn btn-icon-only btn-link text-white btn-lg mb-0"
                        data-toggle="tooltip" data-placement="bottom" data-original-title="Youtube">
                        <i class="fab fa-youtube"></i>
                      </button>
                    </form>

                    <form action="https://github.com/hoangnam1909" target="_blank">
                      <button type="submit" class="btn btn-icon-only btn-link text-white btn-lg mb-0"
                        data-toggle="tooltip" data-placement="bottom" data-original-title="Github">
                        <i class="fab fa-github"></i>
                      </button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-7">
              <form class="p-3" action="{{ url_for('profile') }}" method="post" enctype="multipart/form-data">
                <div class="card-header px-4 py-sm-5 py-3">
                  <h2>Chỉnh sửa hồ sơ</h2>
                  <p class="lead">Thông tin tài khoản: {{ current_user.username }}</p>
                </div>

                <div class="card-body pt-1">
                  <div class="row">
                    <div class="col-md-12 pe-2 mb-3" style="display: none;">
                      <div class="input-group input-group-static mb-4">
                        <label>ID</label>
                        <input type="text" class="form-control" name="id" value="{{ current_user.id }}">
                      </div>
                    </div>

                    <div class="col-md-12 pe-2 mb-3">
                      <div class="input-group input-group-static mb-4">
                        <label>Họ và tên</label>
                        <input type="text" class="form-control" name="fullname" placeholder="Họ và tên"
                          value="{{ current_user.fullname }}">
                      </div>
                    </div>

                    <div class="col-md-12 pe-2 mb-3">
                      <div class="input-group input-group-static mb-4">
                        <label>Email</label>
                        <input type="text" class="form-control" name="email" placeholder="simple@example.com"
                          value="{{ current_user.email }}">
                      </div>
                    </div>

                    <div class="col-md-12 pe-2 mb-3">
                      <div class="input-group input-group-static mb-4">
                        <label>Số điện thoại</label>
                        <input type="text" class="form-control" name="phone" placeholder="0123456789"
                          value="{{ current_user.phone }}" onkeypress="validate(event)">
                      </div>
                    </div>

                    <div class="col-md-12 pe-2 mb-3">
                      <div class="input-group input-group-static mb-4">
                        <label>Địa chỉ</label>
                        <input type="text" class="form-control" name="address" placeholder="Thanh Xuân, Hà Nội"
                          value="{{ current_user.address }}">
                      </div>
                    </div>

                    <div class="col-md-12 pe-2 mb-3">
                      <div class="input-group input-group-static mb-4 d-flex flex-column">
                        <label>Ngày sinh (Ngày/Tháng/Năm)</label>
                        <div class="d-flex flex-row align-items-center">
                          <input class="form-control me-2" value="{{ dob_day if dob_day }}" placeholder="Ngày"
                            name="dob_day" type="number" required>
                          <span>/</span>
                          <input class="form-control mx-2" value="{{ dob_month if dob_month }}" placeholder="Tháng"
                            name="dob_month" type="number" required>
                          <span>/</span>
                          <input class="form-control ms-2" value="{{ dob_year if dob_year }}" placeholder="Năm"
                            name="dob_year" type="number" required>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-12 pe-2 mb-3">
                      <div class="input-group input-group-static mb-4">
                        <label>Ảnh đại diện</label>
                        <input type="file" class="form-control" name="avatar" id="avatar">
                      </div>
                    </div>

                    <div class="col-md-12 pe-2 mb-3">
                      <div class="input-group input-group-static mb-4">
                        <label>Nhập mật khẩu</label>
                        <input type="password" class="form-control" name="password"
                          placeholder="Nhập mật khẩu để hoàn tất các thay đổi" required>
                      </div>
                    </div>
                  </div>
                  <div class="row d-flex flex-column align-items-end">
                    {% if msg %}
                    <div class="alert alert-warning text-white text-center font-weight-bold w-35 me-3" role="alert">
                      {{ msg }}
                    </div>
                    {% endif %}
                    <div class="col-md-6 text-end ms-auto">
                      <button type="submit" class="btn bg-gradient-primary mb-0 me-1">Cập nhật</button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
{% endblock javascripts %}